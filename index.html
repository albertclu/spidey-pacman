<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spidey vs The Sinister Four</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser-arcade-physics.min.js"></script>
    <style>
        body { margin: 0; background-color: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { border: 2px solid #e23636; } /* Spidey Red Border */
    </style>
</head>
<body>

<script>
// --- YOUR GAME CODE STARTS HERE ---
const config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    physics: {
        default: 'arcade',
        arcade: { gravity: { y: 0 } }
    },
    scene: { preload: preload, create: create, update: update }
};

function preload() {
    // These paths must match your assets folder exactly!
    this.load.image('spiderman', 'assets/spiderman.png');
    this.load.image('kingpin', 'assets/kingpin.png');
    this.load.image('goblin', 'assets/goblin.png');
    this.load.image('doc-ock', 'assets/doc-ock.png');
    this.load.image('venom', 'assets/venom.png');
    this.load.image('web-pellet', 'assets/web.png'); 
}

function create() {
    this.player = this.physics.add.sprite(400, 300, 'spiderman');
    this.player.setCollideWorldBounds(true);
    
    this.villains = this.physics.add.group();
    let villainsList = ['kingpin', 'goblin', 'doc-ock', 'venom'];
    
    villainsList.forEach((key, index) => {
        let v = this.villains.create(100 * (index + 1), 100, key);
        v.setCollideWorldBounds(true);
        v.setBounce(1);
        v.setVelocity(Phaser.Math.Between(-150, 150), Phaser.Math.Between(-150, 150));
    });

    this.physics.add.overlap(this.player, this.villains, gameOver, null, this);
}

function update() {
    let cursors = this.input.keyboard.createCursorKeys();
    this.player.setVelocity(0);

    if (cursors.left.isDown) {
        this.player.setVelocityX(-200);
    } else if (cursors.right.isDown) {
        this.player.setVelocityX(200);
    }
    
    if (cursors.up.isDown) {
        this.player.setVelocityY(-200);
    } else if (cursors.down.isDown) {
        this.player.setVelocityY(200);
    }
}

function gameOver() {
    this.physics.pause();
    alert("Captured by the Sinister Four!");
    location.reload();
}

const game = new Phaser.Game(config);
// --- YOUR GAME CODE ENDS HERE ---
</script>

</body>
</html>
